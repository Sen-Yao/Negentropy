# 一、实体

实体是战斗中的基本单位。

拥有以下属性

## 0. 生物属性

### 0.1 种族

为了避免狼拿着一把巨斧朝你走来的状况，肯定需要一个空间来存放实体的种族。有些行为是只有人类能够进行的。

目前能想到的种族有

- 人类
- 动物
- 亡灵

### 0.2 性别

性别就先不考虑 LGBT 了，就只分男女吧。

以后设计的某些技能可能只对男性or女性生效

## 1. 基础属性

每个战斗实体均有四项基础属性，分别是：

- 力量 
- 敏捷 
- 智力
- 体质 

取值范围为$[0,100]$

### 1.1 力量

用于衡量一个战斗实体在战斗中的物理作战能力。较高的力量数值意味着优秀的近战能力。

力量将会影响

- 战斗中的物理伤害
- 最大生命值

同时，力量还会影响弩的装填速度，参见章节：弩

### 1.2 敏捷

用于衡量一个战斗实体在战斗中的行动反应能力。敏捷程度高的战斗实体在进攻时更能抢占先机、命中要害，同时也更难被击中。

敏捷将会影响

- 暴击率
- 先攻值

### 1.3 智力

用于衡量一个战斗实体使用法术和计谋的能力。聪慧的法师能运用自己的智力更加高效地施展魔法。

智力将会影响

- 法术伤害和效果
- 部分技能伤害和效果
- 最大魔法值

### 1.4 体质

用于衡量战斗实体的长时间作战的能力。体质强健意味着能连续进行高强度作战，同时更难受伤。

体质将会影响

- 最大耐力值
- 最大着甲重量

$$最大着甲重量=体质（暂定）$$

## 2. 状态属性

状态属性是战斗实体在战斗中最重要的三个指标，随着战斗的进行不停地发生变化，决定着这个实体的战斗状态。

### 2.1 生命值

生命值衡量战斗实体的健康状况，生命值为零时，角色将会死亡。

在进入战斗时，战斗实体均以最大生命值出场。

$$基础最大生命值=100+3\times 力量值$$

### 2.2 耐力值

耐力值衡量战斗实体的体能状况。大多数近战行为都会消耗一定量的耐力值，耐力值不足会影响部分近战行为的施放。

在进入战斗时，战斗实体均以最大耐力值出场。

$$基础最大耐力值=100+3\times 体质值$$

如果耐力值未满，实体将缓慢回复耐力值，每回合回复最大耐力值的 10 %

战斗实体也可以在回合中选择「休息」，放弃其他行为而回复最大耐力值的 30 %

### 2.3 魔力值

魔力值衡量战斗实体的魔法储能状况。大多数法术和技能行为都会消耗一定量的魔力值，魔力值不足会影响部分法术和技能的施放。

在进入战斗时，战斗实体均以最大魔力值出场。

$$基础最大魔力值=100+3\times 智力值$$

## 3. 技艺

### 3.1 技艺等级

在游戏中，角色都有着各自的特长，这些特长以「技艺」的形式列出。

- 战斗
  - 单手武器
  - 双手武器
  - 格挡
  - 弓术
- 法术
  - 元素法术
  - 变幻法术
  - 召唤法术
  - **死灵**法术
- 生活
  - 口才
  - 手艺

每种技艺都对应着一定的「技艺熟练度」，取值范围$[0,100]$，这些技艺熟练度将会影响角色在对应领域的能力。

### 3.2 角色等级

每个实体都有一个「角色等级」，取值$[0,100]$。等级之间有经验槽，升级应该是采用对数上涨，公式具体之后再给出。

对于玩家而言，当技艺熟练度上升时，角色等级的经验槽会增加。经验槽满了会让角色升级，升级的时候可以从四项基础属性中选一个来加点。

## 4. 其他属性

### 4.1 先攻值

战斗开始时，系统将会比较场上所有角色的先攻值来决定回合顺序。先攻值为隐藏属性，玩家不可见

$$先攻值=敏捷+N(0,30)（正态分布随机数）$$

### 4.2 护甲值

护甲值是战斗实体身上的装备对其保护作用的一种量度，穿着护甲的战斗实体在受到攻击时的伤害会因为护甲值的存在而有所减少。

一般来说，护甲值为战斗实体全身装备护甲值之和，但有些技能同样可以对护甲值产生影响，比如某些变幻类法术可能对护甲值有一个k倍增益。

护甲分为物理护甲和法术护甲。护甲只对与之对应的伤害类型有减免作用。

取值范围为$[0,+\infty)$

# 二、武器

## 1. 分类

大致上，武器可以分为

- 单手武器
  - 单手剑
  - 单手斧
  - 单手锤
  - 匕首
- 双手武器
  - 双手剑
  - 双手斧
  - 双手锤
- 长杆武器
- 盾
- 远程武器
  - 投掷武器
  - 弓
  - 弩

考虑到盾同样也需要装备在副手，因此这里把盾归为武器

## 2. 武器的属性

武器的属性均为本征属性，即由策划方面给定唯一的数值，在游戏过程中不会轻易改变。

### 伤害值

范围[0,100]，用于计算使用该武器进行攻击时造成伤害

### 种类

区分武器的种类

### 重量

范围[0,100]，用于计算使用该武器进行攻击时的命中率，精力消耗等。未来可能会做背包负重系统，可能也会用重量来计算。

### 攻击范围

对于远程武器适用，攻击范围为1表示只能打到相邻的格子，

### 价值

就是大概能卖多少钱

### 唯一性

某些武器可能具有纪念意义，在游戏中有且只有一把，可能需要一个布尔值和大众脸武器区分开来

### 附魔

武器可以附魔，需要有附魔类型和附魔强度两个值来存放数据

### 耐久

### 其他效果

想到再更新

# 三、魔法

## 1. 分类

魔法可以大致分为

- 法术
  - 元素法术
  - 变幻法术
  - 召唤法术
  - **死灵**法术

## 2. 魔法属性（待讨论）

### 强度

用于衡量魔法本身的「强度」，对于伤害型魔法可能是伤害值，对于治愈型魔法可能是恢复值

### 效果

这个魔法本身产生了什么效果。这个我还没想好具体用什么数据结构来存放或描述，不知道 wiz 有没有想法。

可能需要根据多个维度做进一步细分来描述，这个看 wiz 觉得程序上怎么描述比较合理，这里给出几个参考维度

是否指向性？是否 AOE？

# 四、护甲

## 1. 分类

- 头盔（包括兜帽等）
- 胸甲
- 护手
- 腿甲
- 配件
  - 项链
  - 头环
  - 戒指

## 2. 属性

### 护甲值

取值$[0,100]$

大部分盔甲类都会有个护甲值，但配件，兜帽等护甲显然是护甲值为0。具体的护甲值会在护甲的设计页面具体给出。在计算实体的护甲值时，会需要对实体全身的护甲值做一个求和。

### 重量

衡量护甲本身的重量，取值$[0,100]$

此重量会对穿着者的战斗造成影响。参见“战斗系统-闪避系统”

实体穿着的护甲存在上限值，参见“实体-体质”

### 护甲类型

护甲除了按照部位划分，还可以按照材质来划分

- 无甲
- 轻甲
- 重甲
- 其他

其他就可能包括了各种首饰配件等等。

以后设计的某些技能可以跟护甲有关。比如全身装备重甲时，让总护甲乘个 $15\%$，具体的设计等技能设计出来了再说

### 唯一性

某些护具可能具有纪念意义，在游戏中有且只有一个，可能需要一个布尔值和大众脸护甲区分开来

### 附魔

护甲可以附魔，需要有附魔类型和附魔强度两个值来存放数据

### 其他效果

想到再更新